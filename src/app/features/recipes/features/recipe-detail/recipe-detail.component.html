@if ({ ui: userIteraction$ | async }; as subs) {
    <div class="container">
        @if (selectedRecipeSig()) {
            <article class="recipe">
                <h2>{{ selectedRecipeSig()?.title }}</h2>

                <div class="recipe__block">
                    <div class="likes">
                        <span>{{ selectedRecipeSig()?.recommendList?.length }}</span>
                        <i class="fa-solid fa-heart"></i>
                    </div>
                    <img
                        src="{{ selectedRecipeSig()?.image }}"
                        alt="{{ selectedRecipeSig()?.title }}" />
                </div>

                <div class="recipe__block col col--space-btw">
                    <p>{{ selectedRecipeSig()?.description }}</p>

                    <hr />

                    <h3>Ingredients:</h3>
                    <p>{{ selectedRecipeSig()?.ingredients }}</p>

                    <hr />

                    <h3>Instructions:</h3>
                    <p>{{ selectedRecipeSig()?.instructions }}</p>

                    <hr />

                    <div class="row row--no-wrap row--space-btw gap-10 w100 mt-20">
                        <button [routerLink]="['/recipes/']">Back to Recipes</button>

                        @if (authService.currUserSig()?.id === selectedRecipeSig()?.owner) {
                            <button
                                class="danger"
                                (click)="userIteractionSubj.next('deleteDialog')">
                                Delete
                            </button>
                            <button
                                class="accent"
                                [routerLink]="['/recipes/create-edit/' + selectedRecipeSig()?.id]"
                                [state]="{ recipe: selectedRecipeSig() }">
                                Edit
                            </button>
                        } @else {
                            <button
                                class="accent"
                                (click)="userIteractionSubj.next('recommend')"
                                [disabled]="isAlreadyRecommendedByCurrUser()">
                                Recommend
                            </button>
                        }
                    </div>
                </div>
            </article>

            @if (false) {
                <div>You've already recommended this recipe!</div>
            }

            <rcp-modal
                [show]="showModal"
                entity="recipe"
                (close)="onModalClosed($event)"></rcp-modal>
        }
    </div>
}
