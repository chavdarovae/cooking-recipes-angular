import{a as se,c as pe,e as le,i as _}from"./chunk-4JPLKD5E.js";import{A as o,Aa as h,B as g,Ba as Q,Ca as R,D as N,Da as b,Ea as j,Fa as D,Ga as Z,I as Y,J as z,La as y,Na as ee,O as T,P as V,S as a,Sa as te,Ua as re,V as W,Va as ne,W as M,Wa as oe,Y as c,Z as K,_ as C,_a as ie,a as F,aa as $,ba as v,d as L,da as H,ea as O,fa as s,ga as p,gb as I,h as q,ha as S,hb as ae,ka as k,la as G,lb as A,m as U,ma as J,na as m,p as B,ua as E,va as f,w as i,wa as X,xa as P}from"./chunk-DNCVGDDY.js";var u=class e{alertSubject=new L;alertSig=se(this.alertSubject.asObservable(),{initialValue:null});showAlert(r){switch(this.clearAlerts(),this.alertSubject.next(r),r.type){case"success":setTimeout(()=>this.clearAlerts(),4e3);break;case"info":case"warning":setTimeout(()=>this.clearAlerts(),5e3);break;case"danger":setTimeout(()=>this.clearAlerts(),6e3);break}}clearAlerts(){this.alertSubject.next(null)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=i({token:e,factory:e.\u0275fac,providedIn:"root"})};var ce=class e{authService=o(_);alertSrevice=o(u);router=o(I);canActivate(){return this.authService.currUserSig()?!0:(this.router.navigateByUrl("/users/login"),this.alertSrevice.showAlert({alert:"You are not authorised for this section. Please login!",type:"warning"}),!1)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=i({token:e,factory:e.\u0275fac,providedIn:"root"})};var me=class e{static META_DATA_KEY="rcp-meta-data-list";requestMetaData;prevReqMetaData=y(()=>this.requestMetaData());constructor(){let r=null,t=sessionStorage.getItem(e.META_DATA_KEY)??"";if(t){let n=JSON.parse(t);this.isMetaDataReq(n)&&(r=n)}this.requestMetaData=M(r)}setState(r){this.requestMetaData.set(r),sessionStorage.setItem(e.META_DATA_KEY,JSON.stringify(r))}isMetaDataReq(r){return r&&typeof r.page=="number"&&typeof r.pageSize=="number"}static \u0275fac=function(t){return new(t||e)};static \u0275prov=i({token:e,factory:e.\u0275fac,providedIn:"root"})};function Se(e,r){if(e&1){let t=G();s(0,"div",1)(1,"span"),f(2),p(),s(3,"span",2),J("click",function(){Y(t);let d=m();return z(d.alertService.clearAlerts())}),p()()}if(e&2){let t,n,d=m();$("messages "+((t=d.alertService.alertSig())==null?null:t.type)),a(2),X((n=d.alertService.alertSig())==null?null:n.alert)}}var ue=class e{alertService=o(u);static \u0275fac=function(t){return new(t||e)};static \u0275cmp=g({type:e,selectors:[["rcp-alert"]],standalone:!0,features:[h],decls:1,vars:1,consts:[["data-testid","alertBox",3,"class"],["data-testid","alertBox"],["data-testid","alertBoxCloseBtn",1,"icon","fa-solid","fa-xmark",3,"click"]],template:function(t,n){t&1&&c(0,Se,4,3,"div",0),t&2&&v(n.alertService.alertSig()?0:-1)},styles:[".messages[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;font-family:Roboto,sans-serif;border-radius:8px}.messages[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#f5f5f5;font-size:16.8px}.messages.danger[_ngcontent-%COMP%]{background-color:#dc143c}.messages.warning[_ngcontent-%COMP%]{background-color:tomato}.messages.info[_ngcontent-%COMP%]{background-color:#00bfff}.messages.success[_ngcontent-%COMP%]{background-color:#9acd32}"],changeDetection:0})};var x=class e{_isLoading=M(!1);isLoadingSn=y(()=>this._isLoading());showLoader(){this._isLoading.set(!0)}hideLoader(){this._isLoading.set(!1)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=i({token:e,factory:e.\u0275fac,providedIn:"root"})};function be(e,r){e&1&&S(0,"div",1)}function Me(e,r){e&1&&f(0," \xA9 All rights reserved since 2025 ")}var de=class e{loaderService=o(x);static \u0275fac=function(t){return new(t||e)};static \u0275cmp=g({type:e,selectors:[["rcp-footer"]],standalone:!0,features:[h],decls:3,vars:1,consts:[[1,"container"],[1,"loader"]],template:function(t,n){t&1&&(s(0,"div",0),c(1,be,1,0,"div",1)(2,Me,1,0),p()),t&2&&(a(),v(n.loaderService.isLoadingSn()?1:2))},dependencies:[A],styles:[".container[_ngcontent-%COMP%]{font-size:12px;color:#f5f5f5}"],changeDetection:0})};var w=class e{elementRef=o(V);renderer=o(W);appIsAuthorised=T.required();role=T();constructor(){ee(()=>{let r=this.role()??"GUEST";this.appIsAuthorised().includes(r)?this.renderer.setStyle(this.elementRef.nativeElement,"display",""):this.renderer.setStyle(this.elementRef.nativeElement,"display","none")})}static \u0275fac=function(t){return new(t||e)};static \u0275dir=N({type:e,selectors:[["","appIsAuthorised",""]],inputs:{appIsAuthorised:[1,"appIsAuthorised"],role:[1,"role"]},standalone:!0})};var ge=(e,r)=>r.title,ye=()=>["/"],he=e=>({item:e});function Ie(e,r){e&1&&k(0)}function Ae(e,r){if(e&1&&c(0,Ie,1,0,"ng-container",9),e&2){let t=r.$implicit;m();let n=E(16);C("ngTemplateOutlet",n)("ngTemplateOutletContext",R(2,he,t))}}function we(e,r){if(e&1&&(s(0,"span"),f(1),b(2,"titlecase"),p()),e&2){let t,n=m();a(),P("Hello ",j(2,1,(t=n.authService.currUserSig())==null?null:t.username),"")}}function Te(e,r){e&1&&k(0)}function He(e,r){if(e&1&&c(0,Te,1,0,"ng-container",9),e&2){let t=r.$implicit;m();let n=E(16);C("ngTemplateOutlet",n)("ngTemplateOutletContext",R(2,he,t))}}function Oe(e,r){if(e&1&&(s(0,"button",10),f(1),b(2,"uppercase"),p()),e&2){let t,n=r.item,d=m();C("appIsAuthorised",n.roles)("role",(t=d.authService.currUserSig())==null?null:t.role)("routerLink","/"+n.path),K("aria-label","Navigate to section "+n.title),a(),P(" ",j(2,5,n.title)," ")}}var ve=class e{authService=o(_);menuItems=Object.entries(pe).map(([r,t])=>F({title:r},t));filterMenuMainMenu(r,t){return n=>t?n.underMainMenu===r:n.underMainMenu!==r}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=g({type:e,selectors:[["rcp-header"]],standalone:!0,features:[h],decls:17,vars:9,consts:[["navItem",""],[1,"container"],[1,"nav"],["aria-label","Navigate to home",1,"nav__logo","mr-a",3,"routerLink"],["src","img/logo.png","alt","logo"],["id","userMenuTrigger",1,"popover"],["popovertarget","userMenu",1,"nav__item","popover__trigger","row","row--no-wrap","row--left-aligned","gap-20"],[1,"fa-solid","fa-user"],["popover","","id","userMenu","anchor","userMenuTrigger",1,"popover__panel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["popovertarget","userMenu","popovertargetaction","hide",1,"nav__item",3,"appIsAuthorised","role","routerLink"]],template:function(t,n){t&1&&(s(0,"div",1)(1,"div",2)(2,"span",3),S(3,"img",4),p(),H(4,Ae,1,4,"ng-container",null,ge),b(6,"appListFilterPipe"),s(7,"span",5)(8,"button",6),S(9,"span",7),c(10,we,3,3,"span"),p(),s(11,"div",8),H(12,He,1,4,"ng-container",null,ge),b(14,"appListFilterPipe"),p()()()(),c(15,Oe,3,7,"ng-template",null,0,Z)),t&2&&(a(2),C("routerLink",Q(8,ye)),a(2),O(D(6,2,n.menuItems,n.filterMenuMainMenu("account",!1))),a(6),v(n.authService.currUserSig()?10:-1),a(2),O(D(14,5,n.menuItems,n.filterMenuMainMenu("account",!0))))},dependencies:[oe,te,ne,re,A,ae,w,le],styles:[".nav[_ngcontent-%COMP%]{width:100%;height:45px;display:flex;flex-direction:row nowrap;align-items:center}.nav[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:18px;color:#f5f5f5;cursor:pointer}.nav__logo[_ngcontent-%COMP%]{height:35px;aspect-ratio:1}.nav__logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:auto;filter:invert(1)}.nav__item[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:45px;padding:0 2rem}.nav__item[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0003;transform:scaleY(1.05)}.nav[_ngcontent-%COMP%]   .popover[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   .popover__trigger[_ngcontent-%COMP%]{width:250px}.nav[_ngcontent-%COMP%]   .popover__panel[_ngcontent-%COMP%]{margin-top:1px;width:250px;border:none;box-shadow:0 4px 8px #0000001a}"]})};var _e=class e{tokenService=o(ie);intercept(r,t){return this.tokenService.getToken()!==null&&(r=r.clone({withCredentials:!0})),t.handle(r)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=i({token:e,factory:e.\u0275fac})};var xe=class e{alertService=o(u);authService=o(_);router=o(I);intercept(r,t){return t.handle(r).pipe(U(n=>{switch(n.status){case 400:this.alertService.showAlert({alert:n.error?.errorMsg??"Invalid information.",type:"danger"});break;case 401:this.authService.setCurrUserAsGuest(),this.router.navigateByUrl("/users/login");break;case 403:this.alertService.showAlert({alert:"You are not authorised for this section. Please login!",type:"danger"});break;case 404:this.router.navigateByUrl("/404");break;case 500:this.alertService.showAlert({alert:"There is a server error",type:"danger"});break}return q(()=>n)}))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=i({token:e,factory:e.\u0275fac})};var Ce=class e{loaderService=o(x);intercept(r,t){return this.loaderService.showLoader(),t.handle(r).pipe(B(()=>{this.loaderService.hideLoader()}))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=i({token:e,factory:e.\u0275fac})};export{u as a,ue as b,de as c,ve as d,ce as e,_e as f,xe as g,Ce as h,me as i};
