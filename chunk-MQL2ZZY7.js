import{a as se,c as ce,e as le,i as _}from"./chunk-AUTKW4NW.js";import{A as i,Aa as h,B as g,Ba as K,Ca as T,D as B,Da as b,Ea as E,Fa as j,Ga as Q,I as N,J as q,La as Z,Na as ee,O as w,P as z,S as a,Sa as te,Ua as re,V,Va as ne,W as $,Wa as ie,Y as l,Z as G,_ as C,_a as oe,a as F,aa as W,ba as v,d as R,da as A,ea as H,fa as s,ga as c,gb as y,h as L,ha as S,hb as ae,ka as k,la as X,lb as I,m as D,ma as Y,na as m,p as U,ua as O,va as f,w as o,wa as J,xa as P}from"./chunk-GSFQXJ43.js";var u=class e{alertSubject=new R;alertSig=se(this.alertSubject.asObservable(),{initialValue:null});showAlert(r){switch(this.clearAlerts(),this.alertSubject.next(r),r.type){case"success":setTimeout(()=>this.clearAlerts(),4e3);break;case"info":case"warning":setTimeout(()=>this.clearAlerts(),5e3);break;case"danger":setTimeout(()=>this.clearAlerts(),6e3);break}}clearAlerts(){this.alertSubject.next(null)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=o({token:e,factory:e.\u0275fac,providedIn:"root"})};var pe=class e{authService=i(_);alertSrevice=i(u);router=i(y);canActivate(){return this.authService.currUserSig()?!0:(this.router.navigateByUrl("/users/login"),this.alertSrevice.showAlert({alert:"Insurficient credetials for this resource. Please login!",type:"warning"}),!1)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=o({token:e,factory:e.\u0275fac,providedIn:"root"})};function Ce(e,r){if(e&1){let t=X();s(0,"div",1)(1,"span"),f(2),c(),s(3,"span",2),Y("click",function(){N(t);let d=m();return q(d.alertService.clearAlerts())}),c()()}if(e&2){let t,n,d=m();W("messages "+((t=d.alertService.alertSig())==null?null:t.type)),a(2),J((n=d.alertService.alertSig())==null?null:n.alert)}}var me=class e{alertService=i(u);static \u0275fac=function(t){return new(t||e)};static \u0275cmp=g({type:e,selectors:[["rcp-alert"]],standalone:!0,features:[h],decls:1,vars:1,consts:[["data-testid","alertBox",3,"class"],["data-testid","alertBox"],["data-testid","alertBoxCloseBtn",1,"icon","icon--clickable","fa-solid","fa-xmark",3,"click"]],template:function(t,n){t&1&&l(0,Ce,4,3,"div",0),t&2&&v(n.alertService.alertSig()?0:-1)},styles:[".messages[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;font-family:Roboto,sans-serif;border-radius:8px}.messages[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#f5f5f5;font-size:16.8px}.messages.danger[_ngcontent-%COMP%]{background-color:#dc143c}.messages.warning[_ngcontent-%COMP%]{background-color:tomato}.messages.info[_ngcontent-%COMP%]{background-color:#00bfff}.messages.success[_ngcontent-%COMP%]{background-color:#9acd32}"],changeDetection:0})};var x=class e{_isLoading=$(!1);isLoadingSn=Z(()=>this._isLoading());showLoader(){this._isLoading.set(!0)}hideLoader(){this._isLoading.set(!1)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=o({token:e,factory:e.\u0275fac,providedIn:"root"})};function Se(e,r){e&1&&S(0,"div",1)}function be(e,r){e&1&&f(0," \xA9 All rights reserved since 2025 ")}var fe=class e{loaderService=i(x);static \u0275fac=function(t){return new(t||e)};static \u0275cmp=g({type:e,selectors:[["rcp-footer"]],standalone:!0,features:[h],decls:3,vars:1,consts:[[1,"container"],[1,"loader"]],template:function(t,n){t&1&&(s(0,"div",0),l(1,Se,1,0,"div",1)(2,be,1,0),c()),t&2&&(a(),v(n.loaderService.isLoadingSn()?1:2))},dependencies:[I],styles:[".container[_ngcontent-%COMP%]{font-size:12px;color:#f5f5f5}"],changeDetection:0})};var M=class e{elementRef=i(z);renderer=i(V);appIsAuthorised=w.required();role=w();constructor(){ee(()=>{let r=this.role()??"GUEST";this.appIsAuthorised().includes(r)?this.renderer.setStyle(this.elementRef.nativeElement,"display",""):this.renderer.setStyle(this.elementRef.nativeElement,"display","none")})}static \u0275fac=function(t){return new(t||e)};static \u0275dir=B({type:e,selectors:[["","appIsAuthorised",""]],inputs:{appIsAuthorised:[1,"appIsAuthorised"],role:[1,"role"]},standalone:!0})};var de=(e,r)=>r.title,ye=()=>["/"],ve=e=>({item:e});function Ie(e,r){e&1&&k(0)}function Me(e,r){if(e&1&&l(0,Ie,1,0,"ng-container",9),e&2){let t=r.$implicit;m();let n=O(16);C("ngTemplateOutlet",n)("ngTemplateOutletContext",T(2,ve,t))}}function we(e,r){if(e&1&&(s(0,"span"),f(1),b(2,"titlecase"),c()),e&2){let t,n=m();a(),P("Hello ",E(2,1,(t=n.authService.currUserSig())==null?null:t.username),"")}}function Ae(e,r){e&1&&k(0)}function He(e,r){if(e&1&&l(0,Ae,1,0,"ng-container",9),e&2){let t=r.$implicit;m();let n=O(16);C("ngTemplateOutlet",n)("ngTemplateOutletContext",T(2,ve,t))}}function ke(e,r){if(e&1&&(s(0,"button",10),f(1),b(2,"uppercase"),c()),e&2){let t,n=r.item,d=m();C("appIsAuthorised",n.roles)("role",(t=d.authService.currUserSig())==null?null:t.role)("routerLink","/"+n.path),G("aria-label","Navigate to section "+n.title),a(),P(" ",E(2,5,n.title)," ")}}var ge=class e{authService=i(_);menuItems=Object.entries(ce).map(([r,t])=>F({title:r},t));filterMenuMainMenu(r,t){return n=>t?n.underMainMenu===r:n.underMainMenu!==r}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=g({type:e,selectors:[["rcp-header"]],standalone:!0,features:[h],decls:17,vars:9,consts:[["navItem",""],[1,"container"],[1,"nav"],["aria-label","Navigate to home",1,"nav__logo","mr-a",3,"routerLink"],["src","img/logo.png","alt","logo"],["id","userMenuTrigger",1,"popover"],["popovertarget","userMenu",1,"nav__item","popover__trigger","row","row--no-wrap","row--left-aligned","gap-20"],[1,"fa-solid","fa-user"],["popover","","id","userMenu","anchor","userMenuTrigger",1,"popover__panel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["popovertarget","userMenu","popovertargetaction","hide",1,"nav__item",3,"appIsAuthorised","role","routerLink"]],template:function(t,n){t&1&&(s(0,"div",1)(1,"div",2)(2,"span",3),S(3,"img",4),c(),A(4,Me,1,4,"ng-container",null,de),b(6,"rcpListFilterPipe"),s(7,"span",5)(8,"button",6),S(9,"span",7),l(10,we,3,3,"span"),c(),s(11,"div",8),A(12,He,1,4,"ng-container",null,de),b(14,"rcpListFilterPipe"),c()()()(),l(15,ke,3,7,"ng-template",null,0,Q)),t&2&&(a(2),C("routerLink",K(8,ye)),a(2),H(j(6,2,n.menuItems,n.filterMenuMainMenu("account",!1))),a(6),v(n.authService.currUserSig()?10:-1),a(2),H(j(14,5,n.menuItems,n.filterMenuMainMenu("account",!0))))},dependencies:[ie,te,ne,re,I,ae,M,le],styles:[".nav[_ngcontent-%COMP%]{width:100%;height:45px;display:flex;flex-direction:row nowrap;align-items:center}.nav[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:18px;color:#f5f5f5;cursor:pointer}.nav__logo[_ngcontent-%COMP%]{height:35px;aspect-ratio:1}.nav__logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:auto;filter:invert(1)}.nav__item[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:45px;padding:0 2rem}.nav__item[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0003;transform:scaleY(1.05)}.nav[_ngcontent-%COMP%]   .popover[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   .popover__trigger[_ngcontent-%COMP%]{width:250px}.nav[_ngcontent-%COMP%]   .popover__panel[_ngcontent-%COMP%]{margin-top:1px;width:250px;border:none;box-shadow:0 4px 8px #0000001a}"]})};var he=class e{tokenService=i(oe);intercept(r,t){return this.tokenService.getToken()!==null&&(r=r.clone({withCredentials:!0})),t.handle(r)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=o({token:e,factory:e.\u0275fac})};var _e=class e{alertService=i(u);authService=i(_);router=i(y);intercept(r,t){return t.handle(r).pipe(D(n=>{switch(n.status){case 400:this.alertService.showAlert({alert:"Invalid request.",type:"danger"});break;case 401:this.authService.setCurrUserAsGuest();break;case 403:this.router.navigateByUrl("/users/login"),this.alertService.showAlert({alert:"Insurficient credentials. Please login!",type:"danger"});break;case 404:this.alertService.showAlert({alert:"Resource missing!",type:"danger"});break;case 409:this.alertService.showAlert({alert:"Resource state conflict!",type:"danger"});break;case 422:this.alertService.showAlert({alert:"Semantically invalid data!",type:"danger"});break;case 500:this.alertService.showAlert({alert:"Server error!",type:"danger"});break}return L(()=>n)}))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=o({token:e,factory:e.\u0275fac})};var xe=class e{loaderService=i(x);intercept(r,t){return this.loaderService.showLoader(),t.handle(r).pipe(U(()=>{this.loaderService.hideLoader()}))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=o({token:e,factory:e.\u0275fac})};export{u as a,me as b,fe as c,ge as d,pe as e,he as f,_e as g,xe as h};
