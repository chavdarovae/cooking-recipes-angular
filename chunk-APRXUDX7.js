import{c as k}from"./chunk-W3DBUAAU.js";import{a as b}from"./chunk-GW6RRYSJ.js";import"./chunk-T743TERL.js";import{b as F,e as T,f as A,i as M}from"./chunk-HXB7YGQ5.js";import{a as U,b as I}from"./chunk-74TQEJYG.js";import{A as p,Aa as E,B as _,Ba as P,Ca as d,La as L,Na as x,R as h,S as o,_ as l,da as S,ea as y,eb as q,fa as n,ga as r,gb as w,ha as g,hb as R,ma as m,va as s,wa as f,xa as C,za as v}from"./chunk-WLA6WWZH.js";var N=(i,e)=>e.id,z=i=>[i],D=()=>["/users/add-new-user"],V=i=>["/users/",i],j=i=>({user:i});function G(i,e){if(i&1&&(n(0,"article",7),g(1,"i",10),n(2,"div",11)(3,"span"),s(4,"Username:"),r(),n(5,"span",12),s(6),r(),n(7,"span"),s(8,"Email:"),r(),n(9,"a",13),s(10),r(),n(11,"span"),s(12,"Role:"),r(),n(13,"span",12),s(14),r(),n(15,"button",14),s(16," Edit User "),r()()()),i&2){let t=e.$implicit;o(6),f(t.username),o(3),l("href","mailto:"+t.email,h),o(),C(" ",t.email," "),o(4),f(t.role),o(),l("routerLink",d(6,V,t==null?null:t.id))("state",d(8,j,t))}}function H(i,e){i&1&&(n(0,"h5",8),s(1,"No results found!"),r())}var O=class i{authService=p(b);route=p(q);router=p(w);accountsResSig=this.authService.accountsSig;queryParam=U(this.route.queryParamMap);query=L(()=>{let e=this.queryParam();return new k(e?.get("search")??void 0,e?.get("role")??void 0,e?.get("page")??void 0,e?.get("pageSize")??void 0,e?.get("sort")??void 0)});userRolesEnum=I;constructor(){let e="";x(()=>{let t=this.query(),a=JSON.stringify(t);a!==e&&(e=a,this.authService.relaodAccountList(t))},{allowSignalWrites:!0})}onSearchChanged(e){this.router.navigate([],{queryParams:{search:e,page:1},queryParamsHandling:"merge"})}onRoleChanged(e){this.router.navigate([],{queryParams:{role:e,page:1},queryParamsHandling:"merge"})}onPagingChange(e){this.router.navigate([],{queryParams:e,queryParamsHandling:"merge"})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=_({type:i,selectors:[["app-user-list"]],standalone:!0,features:[v([F]),E],decls:12,vars:11,consts:[[1,"container"],[1,"form","form--filter"],[1,"fa-solid","fa-magnifying-glass"],["modelName","searchString","inpType","text","placeholder","Username or Email",3,"onInpChanged","isTypeAhead","inpValue"],["modelName","role","placeholder","All roles",3,"onSelectChanged","selectListEnum","inpValue","selectEcceptions"],[1,"card-container"],["title","Add new user",1,"card-container__add","btn","accent",3,"routerLink"],[1,"account","jumpy-card","row","row--no-wrap","gap-20"],[1,"row","row--centered","row--middle"],[3,"onPagingChange","paging"],[1,"fa-solid","fa-user"],[1,"account__body","col","col--no-wrap","gap-10"],[1,"text-accent"],[1,"text-accent",3,"href"],["routerLinkActive","router-link-active",1,"accent","span-2","w100","mt-10",3,"routerLink","state"]],template:function(t,a){if(t&1&&(n(0,"div",0)(1,"form",1),g(2,"i",2),n(3,"clt-input-field",3),m("onInpChanged",function(u){return a.onSearchChanged(u)}),r(),n(4,"clt-input-select",4),m("onSelectChanged",function(u){return a.onRoleChanged(u)}),r()(),n(5,"div",5)(6,"span",6),s(7," + "),r(),S(8,G,17,10,"article",7,N,!1,H,2,0,"h5",8),r(),n(11,"clt-paging",9),m("onPagingChange",function(u){return a.onPagingChange(u)}),r()()),t&2){let c;o(3),l("isTypeAhead",!0)("inpValue",(c=a.query().search)!==null&&c!==void 0?c:""),o(),l("selectListEnum",a.userRolesEnum)("inpValue",a.query().role)("selectEcceptions",d(8,z,a.userRolesEnum.GUEST)),o(2),l("routerLink",P(10,D)),o(2),y(a.accountsResSig().data),o(3),l("paging",a.accountsResSig().metaData)}},dependencies:[R,T,A,M],styles:[".card-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,390px)}.account[_ngcontent-%COMP%]{width:fit-content;box-shadow:0 4px 8px #0000001a;border-radius:8px;background-color:#fff;padding:1rem}.account[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:130px}.account[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.05)}.account__body[_ngcontent-%COMP%]{display:grid;grid-template-columns:90px 130px;justify-items:start}"]})};export{O as UserListComponent};
