import{b as A}from"./chunk-CLWQJYPI.js";import{a as N}from"./chunk-RHGJ7CWA.js";import"./chunk-T743TERL.js";import{b as T,e as k,i as E}from"./chunk-EGOGVB7G.js";import{a as F}from"./chunk-74TQEJYG.js";import{A as m,Aa as u,B as d,Ca as q,La as L,Na as b,O as P,R,S as a,_ as l,da as I,ea as M,eb as x,fa as r,ga as o,gb as O,ha as s,hb as D,ma as C,qa as h,va as g,wa as _,za as w}from"./chunk-WLA6WWZH.js";var G=i=>["/recipes",i],f=class i{recipe=P();static \u0275fac=function(t){return new(t||i)};static \u0275cmp=d({type:i,selectors:[["clt-card"]],inputs:{recipe:[1,"recipe"]},standalone:!0,features:[u],decls:9,vars:7,consts:[[1,"card","jumpy-card"],[3,"src","alt"],["routerLinkActive","router-link-active",1,"accent","mt-10",3,"routerLink"]],template:function(t,n){if(t&1&&(r(0,"article",0)(1,"div"),s(2,"img",1),o(),r(3,"h4"),g(4),o(),r(5,"p"),g(6),o(),r(7,"button",2),g(8," Read More "),o()()),t&2){let p,c,y,v,S;a(2),h("src",(p=n.recipe())==null?null:p.image,R),h("alt",(c=n.recipe())==null?null:c.title),a(2),_((y=n.recipe())==null?null:y.title),a(2),_((v=n.recipe())==null?null:v.description),a(),l("routerLink",q(5,G,(S=n.recipe())==null?null:S.id))}},dependencies:[D],styles:[".card[_ngcontent-%COMP%]{width:100%;padding:15px;text-align:center;overflow:hidden;display:flex;flex-flow:column nowrap;align-items:center}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:8px;margin-bottom:1em;transition:transform .3s}.card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.05)}.card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{width:100%;height:80px;background-color:#2c3e50;color:#f5f5f5;border-radius:4px;padding:10px}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#2c3e50;height:60px;overflow:hidden;text-overflow:ellipsis}"],changeDetection:0})};var H=(i,e)=>e.id;function Q(i,e){if(i&1&&s(0,"clt-card",5),i&2){let t=e.$implicit;l("recipe",t)}}var z=class i{recipeService=m(N);route=m(x);router=m(O);recipesResSig=this.recipeService.recipesSig;queryParams=F(this.route.queryParamMap);query=L(()=>{let e=this.queryParams();return new A(e?.get("search")??void 0,e?.get("owner")??void 0,e?.get("page")??void 0,e?.get("pageSize")??void 0,e?.get("sort")??void 0)});constructor(){let e="";b(()=>{let t=this.query(),n=JSON.stringify(t);n!==e&&(e=n,this.recipeService.reloadRecipes(t))},{allowSignalWrites:!0})}onSearchStringChange(e){this.router.navigate([],{queryParams:{search:e,page:1},queryParamsHandling:"merge"})}onPagingChange(e){this.router.navigate([],{queryParams:e,queryParamsHandling:"merge"})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=d({type:i,selectors:[["rcp-recipe-list"]],standalone:!0,features:[w([T]),u],decls:8,vars:3,consts:[[1,"container"],[1,"form","form--filter"],[1,"fa-solid","fa-magnifying-glass"],["modelName","searchString","inpType","text","placeholder","Recipe title",3,"onInpChanged","isTypeAhead","inpValue"],[1,"card-container"],[3,"recipe"],[3,"onPagingChange","paging"]],template:function(t,n){if(t&1&&(r(0,"div",0)(1,"form",1),s(2,"i",2),r(3,"clt-input-field",3),C("onInpChanged",function(c){return n.onSearchStringChange(c)}),o()(),r(4,"div",4),I(5,Q,1,1,"clt-card",5,H),o(),r(7,"clt-paging",6),C("onPagingChange",function(c){return n.onPagingChange(c)}),o()()),t&2){let p;a(3),l("isTypeAhead",!0)("inpValue",(p=n.query().search)!==null&&p!==void 0?p:""),a(2),M(n.recipesResSig().data),a(2),l("paging",n.recipesResSig().metaData)}},dependencies:[f,k,E]})};export{z as RecipeListComponent};
