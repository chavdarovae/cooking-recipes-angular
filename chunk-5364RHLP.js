import{a as _}from"./chunk-OAPDK5HY.js";import{a as se,c as pe,e as ce}from"./chunk-EVHONKNO.js";import{A as o,Aa as h,B as g,Ba as K,Ca as P,D as B,Da as S,Ea as E,Fa as j,Ga as Q,I as N,J as q,La as Z,Na as ee,O as w,P as z,S as a,Sa as te,V,Va as ne,W as Y,Wa as re,Xa as oe,Y as c,Z as $,_ as C,_a as ie,a as F,aa as G,ba as v,d as R,da as A,ea as H,fa as s,ga as p,gb as y,h as L,ha as b,hb as ae,ka as k,kb as M,la as W,m as D,ma as X,na as m,p as U,ua as O,va as f,w as i,wa as J,xa as T}from"./chunk-WLA6WWZH.js";var u=class e{alertSubject=new R;alertSig=se(this.alertSubject.asObservable(),{initialValue:null});showAlert(n){switch(this.clearAlerts(),this.alertSubject.next(n),n.type){case"success":setTimeout(()=>this.clearAlerts(),4e3);break;case"info":case"warning":setTimeout(()=>this.clearAlerts(),5e3);break;case"danger":setTimeout(()=>this.clearAlerts(),6e3);break}}clearAlerts(){this.alertSubject.next(null)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=i({token:e,factory:e.\u0275fac,providedIn:"root"})};var le=class e{authService=o(_);alertSrevice=o(u);router=o(y);canActivate(){return this.authService.currUserSig()?!0:(this.router.navigateByUrl("/users/login"),this.alertSrevice.showAlert({alert:"You are not authorised for this section. Please login!",type:"warning"}),!1)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=i({token:e,factory:e.\u0275fac,providedIn:"root"})};function Ce(e,n){if(e&1){let t=W();s(0,"div",1)(1,"span"),f(2),p(),s(3,"span",2),X("click",function(){N(t);let d=m();return q(d.alertService.clearAlerts())}),p()()}if(e&2){let t,r,d=m();G("messages "+((t=d.alertService.alertSig())==null?null:t.type)),a(2),J((r=d.alertService.alertSig())==null?null:r.alert)}}var me=class e{alertService=o(u);static \u0275fac=function(t){return new(t||e)};static \u0275cmp=g({type:e,selectors:[["rcp-alert"]],standalone:!0,features:[h],decls:1,vars:1,consts:[["data-testid","alertBox",3,"class"],["data-testid","alertBox"],["data-testid","alertBoxCloseBtn",1,"icon","fa-solid","fa-xmark",3,"click"]],template:function(t,r){t&1&&c(0,Ce,4,3,"div",0),t&2&&v(r.alertService.alertSig()?0:-1)},styles:[".messages[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;font-family:Roboto,sans-serif;border-radius:8px}.messages[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#f5f5f5;font-size:16.8px}.messages.danger[_ngcontent-%COMP%]{background-color:#dc143c}.messages.warning[_ngcontent-%COMP%]{background-color:tomato}.messages.info[_ngcontent-%COMP%]{background-color:#00bfff}.messages.success[_ngcontent-%COMP%]{background-color:#9acd32}"],changeDetection:0})};var x=class e{_isLoading=Y(!1);isLoadingSn=Z(()=>this._isLoading());showLoader(){this._isLoading.set(!0)}hideLoader(){this._isLoading.set(!1)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=i({token:e,factory:e.\u0275fac,providedIn:"root"})};function be(e,n){e&1&&b(0,"div",1)}function Se(e,n){e&1&&f(0," \xA9 All rights reserved since 2025 ")}var fe=class e{loaderService=o(x);static \u0275fac=function(t){return new(t||e)};static \u0275cmp=g({type:e,selectors:[["rcp-footer"]],standalone:!0,features:[h],decls:3,vars:1,consts:[[1,"container"],[1,"loader"]],template:function(t,r){t&1&&(s(0,"div",0),c(1,be,1,0,"div",1)(2,Se,1,0),p()),t&2&&(a(),v(r.loaderService.isLoadingSn()?1:2))},dependencies:[M],styles:[".container[_ngcontent-%COMP%]{font-size:12px;color:#f5f5f5}"],changeDetection:0})};var I=class e{elementRef=o(z);renderer=o(V);appIsAuthorised=w.required();role=w();constructor(){ee(()=>{let n=this.role()??"GUEST";this.appIsAuthorised().includes(n)?this.renderer.setStyle(this.elementRef.nativeElement,"display",""):this.renderer.setStyle(this.elementRef.nativeElement,"display","none")})}static \u0275fac=function(t){return new(t||e)};static \u0275dir=B({type:e,selectors:[["","appIsAuthorised",""]],inputs:{appIsAuthorised:[1,"appIsAuthorised"],role:[1,"role"]},standalone:!0})};var de=(e,n)=>n.title,ye=()=>["/"],ve=e=>({item:e});function Me(e,n){e&1&&k(0)}function Ie(e,n){if(e&1&&c(0,Me,1,0,"ng-container",9),e&2){let t=n.$implicit;m();let r=O(16);C("ngTemplateOutlet",r)("ngTemplateOutletContext",P(2,ve,t))}}function we(e,n){if(e&1&&(s(0,"span"),f(1),S(2,"titlecase"),p()),e&2){let t,r=m();a(),T("Hello ",E(2,1,(t=r.authService.currUserSig())==null?null:t.username),"")}}function Ae(e,n){e&1&&k(0)}function He(e,n){if(e&1&&c(0,Ae,1,0,"ng-container",9),e&2){let t=n.$implicit;m();let r=O(16);C("ngTemplateOutlet",r)("ngTemplateOutletContext",P(2,ve,t))}}function ke(e,n){if(e&1&&(s(0,"button",10),f(1),S(2,"uppercase"),p()),e&2){let t,r=n.item,d=m();C("appIsAuthorised",r.roles)("role",(t=d.authService.currUserSig())==null?null:t.role)("routerLink","/"+r.path),$("aria-label","Navigate to section "+r.title),a(),T(" ",E(2,5,r.title)," ")}}var ge=class e{authService=o(_);menuItems=Object.entries(pe).map(([n,t])=>F({title:n},t));filterMenuMainMenu(n,t){return r=>t?r.underMainMenu===n:r.underMainMenu!==n}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=g({type:e,selectors:[["rcp-header"]],standalone:!0,features:[h],decls:17,vars:9,consts:[["navItem",""],[1,"container"],[1,"nav"],["aria-label","Navigate to home",1,"nav__logo","mr-a",3,"routerLink"],["src","img/logo.png","alt","logo"],["id","userMenuTrigger",1,"popover"],["popovertarget","userMenu",1,"nav__item","popover__trigger","row","row--no-wrap","row--left-aligned","gap-20"],[1,"fa-solid","fa-user"],["popover","","id","userMenu","anchor","userMenuTrigger",1,"popover__panel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["popovertarget","userMenu","popovertargetaction","hide",1,"nav__item",3,"appIsAuthorised","role","routerLink"]],template:function(t,r){t&1&&(s(0,"div",1)(1,"div",2)(2,"span",3),b(3,"img",4),p(),A(4,Ie,1,4,"ng-container",null,de),S(6,"appListFilterPipe"),s(7,"span",5)(8,"button",6),b(9,"span",7),c(10,we,3,3,"span"),p(),s(11,"div",8),A(12,He,1,4,"ng-container",null,de),S(14,"appListFilterPipe"),p()()()(),c(15,ke,3,7,"ng-template",null,0,Q)),t&2&&(a(2),C("routerLink",K(8,ye)),a(2),H(j(6,2,r.menuItems,r.filterMenuMainMenu("account",!1))),a(6),v(r.authService.currUserSig()?10:-1),a(2),H(j(14,5,r.menuItems,r.filterMenuMainMenu("account",!0))))},dependencies:[oe,te,re,ne,M,ae,I,ce],styles:[".nav[_ngcontent-%COMP%]{width:100%;height:45px;display:flex;flex-direction:row nowrap;align-items:center}.nav[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:18px;color:#f5f5f5;cursor:pointer}.nav__logo[_ngcontent-%COMP%]{height:35px;aspect-ratio:1}.nav__logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:auto;filter:invert(1)}.nav__item[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:45px;padding:0 2rem}.nav__item[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0003;transform:scaleY(1.05)}.nav[_ngcontent-%COMP%]   .popover[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   .popover__trigger[_ngcontent-%COMP%]{width:250px}.nav[_ngcontent-%COMP%]   .popover__panel[_ngcontent-%COMP%]{margin-top:1px;width:250px;border:none;box-shadow:0 4px 8px #0000001a}"]})};var he=class e{tokenService=o(ie);intercept(n,t){return this.tokenService.getToken()!==null&&(n=n.clone({withCredentials:!0})),t.handle(n)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=i({token:e,factory:e.\u0275fac})};var _e=class e{alertService=o(u);authService=o(_);router=o(y);intercept(n,t){return t.handle(n).pipe(D(r=>{switch(r.status){case 400:this.alertService.showAlert({alert:r.error?.errorMsg??"Invalid information.",type:"danger"});break;case 401:this.authService.setCurrUserAsGuest(),this.router.navigateByUrl("/users/login");break;case 403:this.alertService.showAlert({alert:"You are not authorised for this section. Please login!",type:"danger"});break;case 404:this.router.navigateByUrl("/404");break;case 500:this.alertService.showAlert({alert:"There is a server error",type:"danger"});break}return L(()=>r)}))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=i({token:e,factory:e.\u0275fac})};var xe=class e{loaderService=o(x);intercept(n,t){return this.loaderService.showLoader(),t.handle(n).pipe(U(()=>{this.loaderService.hideLoader()}))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=i({token:e,factory:e.\u0275fac})};export{u as a,me as b,fe as c,ge as d,le as e,he as f,_e as g,xe as h};
