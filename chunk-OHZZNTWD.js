import{c as G}from"./chunk-IILGZDOW.js";import{a as j}from"./chunk-FZMXWC45.js";import"./chunk-HINFK3JQ.js";import{b as z,e as J,i as Q}from"./chunk-6JW35KOK.js";import"./chunk-6VCYRWY6.js";import{a as D,h as N,i as A}from"./chunk-BA532GIW.js";import{A as m,Aa as g,B as u,Ba as q,Ca as F,La as T,Na as k,O as P,R as w,S as o,Y as L,_ as c,ba as I,da as M,ea as x,eb as E,fa as r,ga as a,gb as O,ha as d,hb as f,ma as h,qa as C,va as l,wa as v,za as b}from"./chunk-DNCVGDDY.js";var $=t=>["/recipes",t],_=class t{recipe=P();static \u0275fac=function(i){return new(i||t)};static \u0275cmp=u({type:t,selectors:[["rcp-recipe-card"]],inputs:{recipe:[1,"recipe"]},standalone:!0,features:[g],decls:9,vars:7,consts:[[1,"card","jumpy-card"],[3,"src","alt"],["routerLinkActive","router-link-active",1,"accent","mt-10",3,"routerLink"]],template:function(i,n){if(i&1&&(r(0,"article",0)(1,"div"),d(2,"img",1),a(),r(3,"h4"),l(4),a(),r(5,"p"),l(6),a(),r(7,"button",2),l(8," Read More "),a()()),i&2){let p,s,S,y,R;o(2),C("src",(p=n.recipe())==null?null:p.image,w),C("alt",(s=n.recipe())==null?null:s.title),o(2),v((S=n.recipe())==null?null:S.title),o(2),v((y=n.recipe())==null?null:y.description),o(),c("routerLink",F(5,$,(R=n.recipe())==null?null:R.id))}},dependencies:[f],styles:[".card[_ngcontent-%COMP%]{width:100%;padding:15px;text-align:center;overflow:hidden;display:flex;flex-flow:column nowrap;align-items:center}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:8px;margin-bottom:1em;transition:transform .3s}.card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.05)}.card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{width:100%;height:80px;background-color:#2c3e50;color:#f5f5f5;border-radius:4px;padding:10px}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#2c3e50;height:60px;overflow:hidden;text-overflow:ellipsis}"],changeDetection:0})};var W=(t,e)=>e.id,B=()=>["/recipes/create-edit/add-new-entity"];function K(t,e){t&1&&(r(0,"span",5),l(1," + "),a()),t&2&&c("routerLink",q(1,B))}function X(t,e){if(t&1&&d(0,"rcp-recipe-card",6),t&2){let i=e.$implicit;c("recipe",i)}}function Y(t,e){t&1&&(r(0,"h5",7),l(1,"No results found!"),a())}var H=class t{authService=m(A);recipeService=m(j);route=m(E);router=m(O);paginationService=m(N);recipesResSig=this.recipeService.recipesSig;queryParams=D(this.route.queryParamMap);query=T(()=>{let e=this.queryParams();return new G(e?.get("search")??void 0,e?.get("owner")??void 0,e?.get("page")??void 0,e?.get("pageSize")??void 0,e?.get("sort")??void 0)});constructor(){let e="";k(()=>{let i=this.query(),n=JSON.stringify(i);n!==e&&(e=n,this.recipeService.reloadRecipes(i),this.paginationService.setState(i))},{allowSignalWrites:!0})}onSearchStringChange(e){this.router.navigate([],{queryParams:{search:e,page:1},queryParamsHandling:"merge"})}onPagingChange(e){this.router.navigate([],{queryParams:e,queryParamsHandling:"merge"})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=u({type:t,selectors:[["rcp-recipe-list"]],standalone:!0,features:[b([z]),g],decls:10,vars:5,consts:[[1,"container"],[1,"form","form--filter"],[1,"fa-solid","fa-magnifying-glass"],["modelName","searchString","inpType","text","placeholder","Recipe title",3,"onInpChanged","isTypeAhead","inpValue"],[1,"card-container"],["title","Add new recipe",1,"card-container__add","btn","accent",3,"routerLink"],[3,"recipe"],[1,"row","row--centered","row--middle"],[3,"onPagingChange","paging"]],template:function(i,n){if(i&1&&(r(0,"div",0)(1,"form",1),d(2,"i",2),r(3,"rcp-input-field",3),h("onInpChanged",function(s){return n.onSearchStringChange(s)}),a()(),r(4,"div",4),L(5,K,2,2,"span",5),M(6,X,1,1,"rcp-recipe-card",6,W,!1,Y,2,0,"h5",7),a(),r(9,"rcp-pagination",8),h("onPagingChange",function(s){return n.onPagingChange(s)}),a()()),i&2){let p;o(3),c("isTypeAhead",!0)("inpValue",(p=n.query().search)!==null&&p!==void 0?p:""),o(2),I(n.authService.currUserSig()?5:-1),o(),x(n.recipesResSig().data),o(3),c("paging",n.recipesResSig().metaData)}},dependencies:[_,J,Q,f]})};export{H as RecipeListComponent};
