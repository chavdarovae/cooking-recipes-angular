import{a as O}from"./chunk-JFJJCYJA.js";import"./chunk-B3CAR57J.js";import{a as G}from"./chunk-JDSQH64P.js";import{a as H}from"./chunk-FEKEF5TX.js";import{a as D,b as P,c as $,d as k,e as A,g as B}from"./chunk-MI44FUCB.js";import"./chunk-5K5ODEUE.js";import{A as _,B as w,Ba as U,Ca as h,Da as I,I as c,J as s,Ra as q,S as o,Ta as E,Va as F,Y as y,_ as l,ba as b,d as g,db as M,e as f,fa as m,ga as u,hb as j,la as V,m as R,ma as d,na as p,o as x,s as v,t as C,ua as T,va as S,xa as L,za as N}from"./chunk-K4TDJKIY.js";var z=a=>({ui:a});function J(a,r){if(a&1){let i=V();m(0,"div",1)(1,"form",2,0)(3,"clt-input-field",3),d("onInpChanged",function(e){c(i);let n=p();return s(n.recipe.title=e)}),u(),m(4,"clt-input-textarea",4),d("onInpChanged",function(e){c(i);let n=p();return s(n.recipe.description=e)}),u(),m(5,"clt-input-textarea",5),d("onInpChanged",function(e){c(i);let n=p();return s(n.recipe.ingredients=e)}),u(),m(6,"clt-input-field",6),d("onInpChanged",function(e){c(i);let n=p();return s(n.recipe.instructions=e)}),u(),m(7,"clt-input-field",7),d("onInpChanged",function(e){c(i);let n=p();return s(n.recipe.image=e)}),u(),m(8,"div")(9,"button",8),d("click",function(){c(i);let e=p();return s(e.userIteractionSubj.next(e.allowedInteraction))}),S(10),h(11,"titlecase"),u()()()()}if(a&2){let i=T(2),t=p();o(3),l("minLength",2)("isRequired",!0)("inpValue",t.recipe.title),o(),l("minLength",10)("maxLength",100)("isRequired",!0)("inpValue",t.recipe.description),o(),l("minLength",10)("maxLength",400)("isRequired",!0)("inpValue",t.recipe.ingredients),o(),l("minLength",10)("isRequired",!0)("inpValue",t.recipe.instructions),o(),l("minLength",6)("isRequired",!0)("inpValue",t.recipe.image),o(2),l("disabled",i.invalid),o(),L(" ",I(11,19,t.allowedInteraction)," Recipe ")}}var Y=class a{recipeService=_(H);alertService=_(O);router=_(M);userIteractionSubj=new g;userIteraction$;allowedInteraction;recipe;currInteraction;ngOnInit(){this.recipe=history.state?.recipe??new G,this.allowedInteraction=this.recipe?._id?"update":"create",this.initUserInteraction()}initUserInteraction(){this.userIteraction$=this.userIteractionSubj.asObservable().pipe(x(),C(r=>this.currInteraction=r),v(r=>{switch(r){case"create":return this.recipeService.create(this.recipe);case"update":return this.recipeService.update(this.recipe)}}),C(()=>{this.router.navigateByUrl("/recipes"),this.alertService.showAlert({alert:`The recipe was successfully ${this.currInteraction}d!`,type:"success"})}),R(r=>(console.error("Recipe operation failed:",r),this.initUserInteraction(),f)))}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=w({type:a,selectors:[["app-recipe-create"]],standalone:!0,features:[N],decls:2,vars:5,consts:[["createForm","ngForm"],[1,"container"],[1,"form","w80","pt-30","pb-30","pl-50","pr-50"],["label","Recipe Title","modelName","recipeTitle","inpType","text",3,"onInpChanged","minLength","isRequired","inpValue"],["label","Description","modelName","description",3,"onInpChanged","minLength","maxLength","isRequired","inpValue"],["label","Ingredients","modelName","ingredients",3,"onInpChanged","minLength","maxLength","isRequired","inpValue"],["label","Instructions","modelName","instructions","inpType","text",3,"onInpChanged","minLength","isRequired","inpValue"],["label","Image URL","modelName","instructions","inpType","text",3,"onInpChanged","minLength","isRequired","inpValue"],["type","submit",1,"accent",3,"click","disabled"]],template:function(i,t){if(i&1&&(y(0,J,12,21,"div",1),h(1,"async")),i&2){let e;b((e=U(3,z,I(1,1,t.userIteraction$)))?0:-1,e)}},dependencies:[F,q,E,k,$,D,P,j,A,B]})};export{Y as RecipeCreateComponent};
