import{b as N}from"./chunk-SFFYAGPG.js";import{c as j}from"./chunk-57TSADVX.js";import{a as U}from"./chunk-FNHM37C2.js";import"./chunk-CZVA6VX6.js";import{a as P,b as T,c as F,d as k,e as D,f as L}from"./chunk-AZULAH5C.js";import"./chunk-GF53FXYZ.js";import{b as O,i as V}from"./chunk-PKBOFJVN.js";import{A as C,Aa as M,B as x,Ca as A,I as u,J as m,R as v,S as r,Y as g,_ as l,ba as h,da as R,ea as S,fa as o,ga as n,ha as b,hb as I,la as _,ma as d,na as c,t as w,ua as y,va as p,xa as E}from"./chunk-DNCVGDDY.js";var q=(t,i)=>i.id,z=t=>["/recipes",t];function Y(t,i){if(t&1){let e=_();o(0,"button",11),d("click",function(){u(e);let a=c(2);return m(a.updateOwnAccount())}),p(1," Update Account "),n()}if(t&2){c();let e=y(1);l("disabled",e.invalid||e.pristine)}}function $(t,i){if(t&1){let e=_();o(0,"button",11),d("click",function(){u(e);let a=c(2);return m(a.isEditMode=!0)}),p(1," Edit Account "),n()}if(t&2){let e=c(2);l("disabled",e.isEditMode)}}function Q(t,i){if(t&1){let e=_();o(0,"form",2,0)(2,"div",6)(3,"rcp-input-field",7),d("onInpChanged",function(a){u(e);let f=c();return m(f.user.username=a)}),n(),o(4,"rcp-input-field",8),d("onInpChanged",function(a){u(e);let f=c();return m(f.user.email=a)}),n(),b(5,"rcp-input-select",9),g(6,Y,2,1,"button",10)(7,$,2,1,"button",10),n()()}if(t&2){let e=c();r(3),l("minLength",5)("isRequired",!0)("isDisabled",!e.isEditMode)("inpValue",e.user.username),r(),l("isDisabled",!e.isEditMode)("inpValue",e.user.email),r(),l("selectListEnum",e.userRolesEnum)("isDisabled",!0)("inpValue",e.user.role),r(),h(e.isEditMode?6:7)}}function B(t,i){if(t&1&&b(0,"img",4),t&2){let e=i.$implicit;l("src",e.image,v)("alt",e.title)("routerLink",A(3,z,e==null?null:e.id))}}function H(t,i){t&1&&(o(0,"h5",5),p(1,"You don't have any recipes yet!"),n())}var G=class t{recipeService=C(U);authService=C(V);user=new N(this.authService.currUserSig());ownRecipesResSig=this.recipeService.recipesSig;isEditMode=!1;userRolesEnum=O;constructor(){}ngOnInit(){this.recipeService.reloadRecipes(new j(void 0,this.authService.currUserSig()?.id))}updateOwnAccount(){this.authService.updateOwnAccount(this.user).pipe(w(()=>this.isEditMode=!1)).subscribe()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=x({type:t,selectors:[["rcp-recipes-account"]],standalone:!0,features:[M],decls:10,vars:3,consts:[["ownAccountForm","ngForm"],[1,"container"],[1,"w100"],[1,"carousel"],[3,"src","alt","routerLink"],[1,"row","row--centered","row--middle"],[1,"row","row--no-wrap","row--middle","gap-30"],["label","Username","modelName","usesrname","inpType","text",1,"w-250",3,"onInpChanged","minLength","isRequired","isDisabled","inpValue"],["label","Email","modelName","email","inpType","text",1,"w-250",3,"onInpChanged","isDisabled","inpValue"],["label","Role","modelName","role",1,"w-250",3,"selectListEnum","isDisabled","inpValue"],["type","submit",1,"accent","ml-a",3,"disabled"],["type","submit",1,"accent","ml-a",3,"click","disabled"]],template:function(e,s){e&1&&(o(0,"div",1)(1,"h2"),p(2,"Personal data:"),n(),g(3,Q,8,10,"form",2),o(4,"h2"),p(5),n(),o(6,"div",3),R(7,B,1,5,"img",4,q,!1,H,2,0,"h5",5),n()()),e&2&&(r(3),h(s.user?3:-1),r(2),E("All my recipes (",s.ownRecipesResSig().data.length,"):"),r(2),S(s.ownRecipesResSig().data))},dependencies:[I,k,F,P,T,D,L],styles:['@charset "UTF-8";.carousel[_ngcontent-%COMP%]{width:calc(100% - 7vmin);height:400px;margin:0 auto;display:flex;flex-flow:row nowrap;justify-content:flex-start;gap:1.2vmin;overflow-x:auto;scroll-behavior:smooth;scroll-snap-type:x mandatory;anchor-name:--carousel}.carousel[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.carousel[_ngcontent-%COMP%]::scroll-button(left){content:"\\2b95";transform:translate(-50%);position-area:right center}.carousel[_ngcontent-%COMP%]::scroll-button(right){content:"\\2b05\\fe0e";transform:translate(50%);position-area:left center}.carousel[_ngcontent-%COMP%]::scroll-button(right), .carousel[_ngcontent-%COMP%]::scroll-button(left){border:none;font-size:4vmin;min-height:6vmin;aspect-ratio:1;border-radius:50%;background-color:#2c3e50;color:#f5f5f5;position:fixed;cursor:pointer;position-anchor:--carousel}.carousel[_ngcontent-%COMP%]::scroll-button(right):disabled, .carousel[_ngcontent-%COMP%]::scroll-button(left):disabled{opacity:.5;cursor:auto}.carousel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{scroll-snap-align:start;width:25%;min-width:25%;max-width:25%;object-fit:cover;object-position:center;border-radius:8px;transition:transform .3s ease}.carousel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:translateY(10px)}']})};export{G as RecipesAccountComponent};
