import{a as pe,c as ce,d as le,e as me,i as _}from"./chunk-4JPLKD5E.js";import{A as o,Aa as h,B as g,Ba as Q,Ca as E,D as q,Da as S,Ea as F,Fa as R,Ga as Z,I as z,J as V,La as ee,Na as te,O as H,P as G,S as a,Sa as re,Ua as ne,V as Y,Va as oe,W as M,Wa as ie,Y as l,Z as $,_ as x,_a as ae,a as D,aa as W,ba as v,d as L,da as O,ea as k,fa as s,ga as p,gb as y,h as N,ha as C,hb as se,ka as T,la as X,lb as I,m as U,ma as J,na as m,p as B,ua as P,va as f,w as i,wa as K,xa as j}from"./chunk-DNCVGDDY.js";var u=class e{alertSubject=new L;alertSig=pe(this.alertSubject.asObservable(),{initialValue:null});showAlert(r){switch(this.clearAlerts(),this.alertSubject.next(r),r.type){case"success":setTimeout(()=>this.clearAlerts(),4e3);break;case"info":case"warning":setTimeout(()=>this.clearAlerts(),5e3);break;case"danger":setTimeout(()=>this.clearAlerts(),6e3);break}}clearAlerts(){this.alertSubject.next(null)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=i({token:e,factory:e.\u0275fac,providedIn:"root"})};var ue=class e{authService=o(_);alertSrevice=o(u);router=o(y);canActivate(){return this.authService.currUserSig()?!0:(this.router.navigateByUrl("/users/login"),this.alertSrevice.showAlert({alert:"You are not authorised for this section. Please login!",type:"warning"}),!1)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=i({token:e,factory:e.\u0275fac,providedIn:"root"})};var w=class e{constructor(r,t,n){this.sort=n;this.page=e.toNumber(r,1),this.pageSize=e.toNumber(t,le.pageSize)}page;pageSize;static toNumber(r,t){if(r==null)return t;let n=typeof r=="string"?Number(r):r;return Number.isFinite(n)&&n>0?n:t}};var fe=class e{metaDataReq=M(new w);setState(r){this.metaDataReq.set(r)}getLastListViewMetaData(){return this.metaDataReq()}static \u0275fac=function(t){return new(t||e)};static \u0275prov=i({token:e,factory:e.\u0275fac,providedIn:"root"})};function Me(e,r){if(e&1){let t=X();s(0,"div",1)(1,"span"),f(2),p(),s(3,"span",2),J("click",function(){z(t);let d=m();return V(d.alertService.clearAlerts())}),p()()}if(e&2){let t,n,d=m();W("messages "+((t=d.alertService.alertSig())==null?null:t.type)),a(2),K((n=d.alertService.alertSig())==null?null:n.alert)}}var de=class e{alertService=o(u);static \u0275fac=function(t){return new(t||e)};static \u0275cmp=g({type:e,selectors:[["rcp-alert"]],standalone:!0,features:[h],decls:1,vars:1,consts:[["data-testid","alertBox",3,"class"],["data-testid","alertBox"],["data-testid","alertBoxCloseBtn",1,"icon","fa-solid","fa-xmark",3,"click"]],template:function(t,n){t&1&&l(0,Me,4,3,"div",0),t&2&&v(n.alertService.alertSig()?0:-1)},styles:[".messages[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;font-family:Roboto,sans-serif;border-radius:8px}.messages[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#f5f5f5;font-size:16.8px}.messages.danger[_ngcontent-%COMP%]{background-color:#dc143c}.messages.warning[_ngcontent-%COMP%]{background-color:tomato}.messages.info[_ngcontent-%COMP%]{background-color:#00bfff}.messages.success[_ngcontent-%COMP%]{background-color:#9acd32}"],changeDetection:0})};var b=class e{_isLoading=M(!1);isLoadingSn=ee(()=>this._isLoading());showLoader(){this._isLoading.set(!0)}hideLoader(){this._isLoading.set(!1)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=i({token:e,factory:e.\u0275fac,providedIn:"root"})};function ye(e,r){e&1&&C(0,"div",1)}function Ie(e,r){e&1&&f(0," \xA9 All rights reserved since 2025 ")}var ve=class e{loaderService=o(b);static \u0275fac=function(t){return new(t||e)};static \u0275cmp=g({type:e,selectors:[["rcp-footer"]],standalone:!0,features:[h],decls:3,vars:1,consts:[[1,"container"],[1,"loader"]],template:function(t,n){t&1&&(s(0,"div",0),l(1,ye,1,0,"div",1)(2,Ie,1,0),p()),t&2&&(a(),v(n.loaderService.isLoadingSn()?1:2))},dependencies:[I],styles:[".container[_ngcontent-%COMP%]{font-size:12px;color:#f5f5f5}"],changeDetection:0})};var A=class e{elementRef=o(G);renderer=o(Y);appIsAuthorised=H.required();role=H();constructor(){te(()=>{let r=this.role()??"GUEST";this.appIsAuthorised().includes(r)?this.renderer.setStyle(this.elementRef.nativeElement,"display",""):this.renderer.setStyle(this.elementRef.nativeElement,"display","none")})}static \u0275fac=function(t){return new(t||e)};static \u0275dir=q({type:e,selectors:[["","appIsAuthorised",""]],inputs:{appIsAuthorised:[1,"appIsAuthorised"],role:[1,"role"]},standalone:!0})};var he=(e,r)=>r.title,we=()=>["/"],be=e=>({item:e});function Ae(e,r){e&1&&T(0)}function He(e,r){if(e&1&&l(0,Ae,1,0,"ng-container",9),e&2){let t=r.$implicit;m();let n=P(16);x("ngTemplateOutlet",n)("ngTemplateOutletContext",E(2,be,t))}}function Oe(e,r){if(e&1&&(s(0,"span"),f(1),S(2,"titlecase"),p()),e&2){let t,n=m();a(),j("Hello ",F(2,1,(t=n.authService.currUserSig())==null?null:t.username),"")}}function ke(e,r){e&1&&T(0)}function Te(e,r){if(e&1&&l(0,ke,1,0,"ng-container",9),e&2){let t=r.$implicit;m();let n=P(16);x("ngTemplateOutlet",n)("ngTemplateOutletContext",E(2,be,t))}}function Pe(e,r){if(e&1&&(s(0,"button",10),f(1),S(2,"uppercase"),p()),e&2){let t,n=r.item,d=m();x("appIsAuthorised",n.roles)("role",(t=d.authService.currUserSig())==null?null:t.role)("routerLink","/"+n.path),$("aria-label","Navigate to section "+n.title),a(),j(" ",F(2,5,n.title)," ")}}var _e=class e{authService=o(_);menuItems=Object.entries(ce).map(([r,t])=>D({title:r},t));filterMenuMainMenu(r,t){return n=>t?n.underMainMenu===r:n.underMainMenu!==r}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=g({type:e,selectors:[["rcp-header"]],standalone:!0,features:[h],decls:17,vars:9,consts:[["navItem",""],[1,"container"],[1,"nav"],["aria-label","Navigate to home",1,"nav__logo","mr-a",3,"routerLink"],["src","img/logo.png","alt","logo"],["id","userMenuTrigger",1,"popover"],["popovertarget","userMenu",1,"nav__item","popover__trigger","row","row--no-wrap","row--left-aligned","gap-20"],[1,"fa-solid","fa-user"],["popover","","id","userMenu","anchor","userMenuTrigger",1,"popover__panel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["popovertarget","userMenu","popovertargetaction","hide",1,"nav__item",3,"appIsAuthorised","role","routerLink"]],template:function(t,n){t&1&&(s(0,"div",1)(1,"div",2)(2,"span",3),C(3,"img",4),p(),O(4,He,1,4,"ng-container",null,he),S(6,"appListFilterPipe"),s(7,"span",5)(8,"button",6),C(9,"span",7),l(10,Oe,3,3,"span"),p(),s(11,"div",8),O(12,Te,1,4,"ng-container",null,he),S(14,"appListFilterPipe"),p()()()(),l(15,Pe,3,7,"ng-template",null,0,Z)),t&2&&(a(2),x("routerLink",Q(8,we)),a(2),k(R(6,2,n.menuItems,n.filterMenuMainMenu("account",!1))),a(6),v(n.authService.currUserSig()?10:-1),a(2),k(R(14,5,n.menuItems,n.filterMenuMainMenu("account",!0))))},dependencies:[ie,re,oe,ne,I,se,A,me],styles:[".nav[_ngcontent-%COMP%]{width:100%;height:45px;display:flex;flex-direction:row nowrap;align-items:center}.nav[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:18px;color:#f5f5f5;cursor:pointer}.nav__logo[_ngcontent-%COMP%]{height:35px;aspect-ratio:1}.nav__logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:auto;filter:invert(1)}.nav__item[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:45px;padding:0 2rem}.nav__item[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0003;transform:scaleY(1.05)}.nav[_ngcontent-%COMP%]   .popover[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   .popover__trigger[_ngcontent-%COMP%]{width:250px}.nav[_ngcontent-%COMP%]   .popover__panel[_ngcontent-%COMP%]{margin-top:1px;width:250px;border:none;box-shadow:0 4px 8px #0000001a}"]})};var xe=class e{tokenService=o(ae);intercept(r,t){return this.tokenService.getToken()!==null&&(r=r.clone({withCredentials:!0})),t.handle(r)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=i({token:e,factory:e.\u0275fac})};var Ce=class e{alertService=o(u);authService=o(_);router=o(y);intercept(r,t){return t.handle(r).pipe(U(n=>{switch(n.status){case 400:this.alertService.showAlert({alert:n.error?.errorMsg??"Invalid information.",type:"danger"});break;case 401:this.authService.setCurrUserAsGuest(),this.router.navigateByUrl("/users/login");break;case 403:this.alertService.showAlert({alert:"You are not authorised for this section. Please login!",type:"danger"});break;case 404:this.router.navigateByUrl("/404");break;case 500:this.alertService.showAlert({alert:"There is a server error",type:"danger"});break}return N(()=>n)}))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=i({token:e,factory:e.\u0275fac})};var Se=class e{loaderService=o(b);intercept(r,t){return this.loaderService.showLoader(),t.handle(r).pipe(B(()=>{this.loaderService.hideLoader()}))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=i({token:e,factory:e.\u0275fac})};export{u as a,de as b,ve as c,_e as d,ue as e,xe as f,Ce as g,Se as h,w as i,fe as j};
